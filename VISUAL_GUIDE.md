# PalTrade Overlay - Visual Quick Guide

## ğŸ® What It Looks Like (ASCII Preview)

### Overlay Floating Button

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PALWORLD Game  â”‚
â”‚                 â”‚
â”‚                 â”‚
â”‚                 â”‚
â”‚      [Game]     â”‚
â”‚                 â”‚
â”‚                 â”‚
â”‚              ğŸ”²  â† Floating Button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Floating Button Expanded

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PALWORLD Game  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â”‚ â”Œâ”€ Quick List Pal    â”‚
â”‚                 â”‚ â”‚ â”Œâ”€ My Listings       â”‚
â”‚                 â”‚ â”‚ â”Œâ”€ Notifications â‘  â”‚
â”‚      [Game]     â”‚ â”‚                      â”‚
â”‚                 â”‚ â”‚                      â”‚
â”‚                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                 â”‚         ğŸ”² Menu Closed
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quick List Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PALWORLD Game                           â”‚
â”‚                                         â”‚
â”‚        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚
â”‚        â•‘  Quick List Pal       âœ•  â•‘    â”‚
â”‚        â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£    â”‚
â”‚        â•‘ Pal Type: [Anubis â–¼]    â•‘    â”‚
â”‚        â•‘                         â•‘    â”‚
â”‚        â•‘ Level: [40 â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€] â•‘    â”‚
â”‚        â•‘                         â•‘    â”‚
â”‚        â•‘ Traits:                 â•‘    â”‚
â”‚        â•‘ â˜‘ Lucky  â˜ Swift       â•‘    â”‚
â”‚        â•‘ â˜ Blessed â˜ Alpha      â•‘    â”‚
â”‚        â•‘                         â•‘    â”‚
â”‚        â•‘ Price: [50000________] â•‘    â”‚
â”‚        â•‘                         â•‘    â”‚
â”‚        â•‘ [Cancel] [List Now âœ“]  â•‘    â”‚
â”‚        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Notification Toast

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PALWORLD Game                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”” john_trader wants your Lucky    â”‚ â”‚
â”‚ â”‚    Anubis!                          â”‚ â”‚
â”‚ â”‚                                     â”‚ â”‚
â”‚ â”‚ Offered: 60000 gold                â”‚ â”‚
â”‚ â”‚                                     â”‚ â”‚
â”‚ â”‚ [View â†’] [Close âœ•]                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  (Auto-closes in 5s)                    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

```
USER IN PALWORLD
        â†“
        â”‚
        â”œâ”€ Clicks Floating Button
        â”‚
        â”œâ”€ Sees Quick List Modal
        â”‚
        â”œâ”€ Fills Form
        â”‚  â€¢ Pal Type: Anubis
        â”‚  â€¢ Level: 40
        â”‚  â€¢ Traits: Lucky
        â”‚  â€¢ Price: 50000
        â”‚
        â”œâ”€ Clicks "List Now"
        â”‚
        â”œâ”€ POST /api/overlay/quick-list
        â”‚         â†“
        â”‚    Backend validates
        â”‚    Creates listing
        â”‚    Saves to DB
        â”‚         â†“
        â”‚    Returns 201 OK
        â”‚
        â”œâ”€ Toast: "Anubis listed!"
        â”‚
        â””â”€ Notification received when
           someone offers on your Pal

           Toast: "john_trader wants
           your Lucky Anubis!"
```

---

## ğŸ—‚ï¸ File Structure Tree

```
PalTrade-main/
â”œâ”€â”€ overlay/                          â† NEW OVERLAY APP
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ FloatingButton.tsx     â† Animated button
â”‚   â”‚   â”‚   â”œâ”€â”€ QuickListPanel.tsx     â† Form modal
â”‚   â”‚   â”‚   â””â”€â”€ NotificationToast.tsx  â† Alert toast
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts                 â† API client
â”‚   â”‚   â”‚   â””â”€â”€ websocket.ts           â† Real-time service
â”‚   â”‚   â”œâ”€â”€ main.tsx                   â† Background
â”‚   â”‚   â”œâ”€â”€ overlay.tsx                â† Main window
â”‚   â”‚   â”œâ”€â”€ notifications.tsx          â† Notifications
â”‚   â”‚   â””â”€â”€ overlay.css                â† Styles
â”‚   â”œâ”€â”€ manifest.json                  â† Overwolf config
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ app/api/overlay/                  â† NEW API ENDPOINTS
â”‚   â”œâ”€â”€ auth/route.ts                 â† OAuth
â”‚   â”œâ”€â”€ listings/route.ts             â† Get listings
â”‚   â”œâ”€â”€ quick-list/route.ts           â† Quick list
â”‚   â”œâ”€â”€ notifications/route.ts        â† Notifications
â”‚   â”œâ”€â”€ ws/route.ts                   â† Real-time stream
â”‚   â””â”€â”€ notification-triggers.ts      â† Helpers
â”‚
â”œâ”€â”€ QUICKSTART.md                      â† START HERE
â”œâ”€â”€ ARCHITECTURE.md                    â† System design
â”œâ”€â”€ OVERLAY_SETUP.md                  â† Setup guide
â”œâ”€â”€ OVERLAY_COMPLETE.md               â† Full summary
â”œâ”€â”€ IMPLEMENTATION_ROADMAP.md         â† 10-week plan
â”œâ”€â”€ NOTIFICATION_INTEGRATION_GUIDE.md â† Real-time
â”œâ”€â”€ README_OVERLAY.md                 â† Master index
â”œâ”€â”€ DELIVERY_REPORT.md                â† This package
â””â”€â”€ ...existing files...
```

---

## ğŸ”„ Component Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OVERLAY (React App)                   â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ main.tsx (Background Service)            â”‚    â”‚
â”‚  â”‚ â€¢ Connects to WebSocket/SSE              â”‚    â”‚
â”‚  â”‚ â€¢ Listens for notifications              â”‚    â”‚
â”‚  â”‚ â€¢ Broadcasts to other windows            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â†‘                           â†“           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           (postMessage)                          â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ overlay.tsx (Main Window)                â”‚    â”‚
â”‚  â”‚ â€¢ FloatingButton component               â”‚    â”‚
â”‚  â”‚ â€¢ QuickListPanel (modal)                 â”‚    â”‚
â”‚  â”‚ â€¢ Handles user clicks                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â†“                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ api.ts service    â”‚                          â”‚
â”‚   â”‚ â€¢ Calls backend   â”‚                          â”‚
â”‚   â”‚ â€¢ Manages token   â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚           â†“                                       â”‚
â”‚  /api/overlay/quick-list (POST)                  â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ notifications.tsx (Notification Window)  â”‚    â”‚
â”‚  â”‚ â€¢ Receives messages from main.tsx        â”‚    â”‚
â”‚  â”‚ â€¢ Renders toast notifications            â”‚    â”‚
â”‚  â”‚ â€¢ Auto-dismisses or user closes          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
            Next.js Backend API
                      â†“
            PostgreSQL Database
```

---

## ğŸ“ˆ Request Timeline (Quick List)

```
User clicks "List Now"
â”‚
â”œâ”€ 0ms: Form validation
â”‚
â”œâ”€ 50ms: API request sent
â”‚        POST /api/overlay/quick-list
â”‚        {
â”‚          name: "Anubis",
â”‚          price: 50000,
â”‚          type: "pal",
â”‚          stats: {...}
â”‚        }
â”‚
â”œâ”€ 150ms: Backend receives
â”‚         â€¢ Verify JWT token âœ“
â”‚         â€¢ Validate schema âœ“
â”‚         â€¢ Query user ID âœ“
â”‚
â”œâ”€ 250ms: Database operations
â”‚         â€¢ Create listing âœ“
â”‚         â€¢ Create notification âœ“
â”‚         â€¢ Return response âœ“
â”‚
â”œâ”€ 300ms: Response received
â”‚         {
â”‚           success: true,
â”‚           listing: {...},
â”‚           message: "Anubis listed successfully!"
â”‚         }
â”‚
â””â”€ 350ms: UI updated
          Toast shows confirmation
          Modal closes
          âœ… DONE!

Total time: ~350ms (target: <500ms) âœ“
```

---

## ğŸ” Authentication Flow (Diagram)

```
Step 1: User Clicks "Login"
        â†“
        Overlay: initiateOAuth()
        â†“
        Opens popup to paltrade.vercel.app

Step 2: User Enters Credentials
        â†“
        paltrade.vercel.app/login
        â”œâ”€ Email: [____________]
        â”œâ”€ Password: [________]
        â””â”€ [Sign In]

Step 3: Backend Validates
        â”œâ”€ Check email exists
        â”œâ”€ Verify password hash
        â”œâ”€ Generate JWT token
        â””â”€ Return token in URL

Step 4: Overlay Receives Token
        â†“
        Popup closes
        Token extracted from URL hash
        Token stored in localStorage

Step 5: Future Requests Include Token
        â†“
        Authorization: Bearer eyJhbGc...
        â†“
        âœ… Authenticated!
```

---

## ğŸ’¾ Database Schema (Simplified)

```
USERS
â”œâ”€ id
â”œâ”€ email
â”œâ”€ name
â”œâ”€ password_hash
â””â”€ created_at

LISTINGS
â”œâ”€ id
â”œâ”€ user_id (FK â†’ USERS)
â”œâ”€ name (e.g., "Anubis")
â”œâ”€ price
â”œâ”€ level
â”œâ”€ traits (JSON)
â”œâ”€ is_active
â””â”€ created_at

OFFERS
â”œâ”€ id
â”œâ”€ listing_id (FK â†’ LISTINGS)
â”œâ”€ bidder_id (FK â†’ USERS)
â”œâ”€ offer_price
â”œâ”€ offer_item
â”œâ”€ status (pending/accepted/rejected)
â””â”€ created_at

NOTIFICATIONS (NEW)
â”œâ”€ id
â”œâ”€ user_id (FK â†’ USERS)
â”œâ”€ type (offer_received/accepted)
â”œâ”€ title
â”œâ”€ message
â”œâ”€ read (boolean)
â””â”€ created_at
```

---

## ğŸš€ Deployment Architecture

```
Your Computer
    â†“ (git push)
    â”‚
    â”œâ”€â†’ GitHub
         â†“ (webhook)
         â”‚
         â”œâ”€â†’ Vercel (Backend)
         â”‚   â”œâ”€ Build
         â”‚   â”œâ”€ Deploy
         â”‚   â”œâ”€ Update DB migrations
         â”‚   â””â”€ LIVE at paltrade.vercel.app
         â”‚
         â””â”€â†’ Overwolf Store (Overlay)
             â”œâ”€ dist/ folder uploaded
             â”œâ”€ Review pending
             â”œâ”€ Approval (1-2 weeks)
             â””â”€ Users install from store

User's PC
    â”œâ”€ Palworld running
    â”œâ”€ Overwolf installed
    â”œâ”€ Overlay app from Overwolf Store
    â”‚   â†“ (overlay communicates)
    â”œâ”€ â† â†’ paltrade.vercel.app
    â”‚   â†“ (API calls + WebSocket)
    â””â”€ â† â†’ PostgreSQL Database
```

---

## ğŸ“Š Performance Dashboard (Target)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         PalTrade Overlay Metrics          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                           â•‘
â•‘ Bundle Size:                              â•‘
â•‘   Uncompressed:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  45KB         â•‘
â•‘   Gzipped:       â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  15KB âœ“       â•‘
â•‘                                           â•‘
â•‘ API Response Times:                       â•‘
â•‘   Quick List:    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  250ms âœ“      â•‘
â•‘   Get Listings:  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  100ms âœ“      â•‘
â•‘   Notifications: â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   50ms âœ“      â•‘
â•‘                                           â•‘
â•‘ Memory Usage:                             â•‘
â•‘   Overlay:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘   50MB        â•‘
â•‘   Per WebSocket: â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    8MB        â•‘
â•‘                                           â•‘
â•‘ Uptime Target:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  99.9%        â•‘
â•‘                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ Success Path (Timeline)

```
Week 1: SETUP
â”œâ”€ Day 1-2: Review docs & code
â”œâ”€ Day 3-4: Build & test locally
â”œâ”€ Day 5-7: Deploy backend
â””â”€ Status: âœ… Ready

Week 2: SUBMISSION
â”œâ”€ Day 1-2: Create Overwolf account
â”œâ”€ Day 3-4: Submit app for review
â”œâ”€ Day 5-7: Wait for approval
â””â”€ Status: â³ In Review

Week 3: LAUNCH
â”œâ”€ Day 1: Get approval
â”œâ”€ Day 2: Announce to community
â”œâ”€ Day 3-7: Monitor & optimize
â””â”€ Status: ğŸš€ LIVE!

Week 4+: GROWTH
â”œâ”€ Add more features
â”œâ”€ Premium tier
â”œâ”€ Monetization
â””â”€ Scale users
```

---

## ğŸ’¡ Key Metrics

```
MVP Success Criteria:
â”œâ”€ âœ… Overlay builds without errors
â”œâ”€ âœ… Can login via OAuth
â”œâ”€ âœ… Quick list creates listings
â”œâ”€ âœ… Notifications appear
â”œâ”€ âœ… API response < 500ms
â”œâ”€ âœ… No console errors
â””â”€ âœ… Works in Palworld

Growth Targets:
â”œâ”€ Month 1: 50-100 users
â”œâ”€ Month 2: 200-300 users
â”œâ”€ Month 3: 500+ users
â”œâ”€ Month 6: 2,000+ users
â””â”€ Month 12: 5,000+ users

Revenue Targets:
â”œâ”€ Month 1: $0 (free MVP)
â”œâ”€ Month 3: $50-100/month
â”œâ”€ Month 6: $200-400/month
â””â”€ Month 12: $500-1,000/month
```

---

**Questions?** See documentation files for details.
**Ready?** Start with QUICKSTART.md â†’
